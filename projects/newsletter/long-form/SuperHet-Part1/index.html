<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Last week, I asked readers on Substack chat about what topics I should write about. There seemed to be considerable interest in transceiver architecture and design."><title>Basic design considerations in a superheterodyne radio receiver</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://notes.vsekar.com//icon.png><link href=https://notes.vsekar.com/styles.706bb6073ba85d26809f9096dae23a6b.min.css rel=stylesheet><link href=https://notes.vsekar.com/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://notes.vsekar.com/js/darkmode.b4dd02a8c7f089554384882ceaa8a4bb.min.js></script>
<script src=https://notes.vsekar.com/js/util.5e39932758f9ecaf45fd54506ed61416.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://notes.vsekar.com/js/popover.6da9b273c092cc16fc1aa904d71a2163.min.js></script>
<script src=https://notes.vsekar.com/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://notes.vsekar.com/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://notes.vsekar.com/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://notes.vsekar.com/",fetchData=Promise.all([fetch("https://notes.vsekar.com/indices/linkIndex.ecd12ca7ec4d340da8c964b6c3d88208.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://notes.vsekar.com/indices/contentIndex.85de204e0eb6c754cc12c034fd175d95.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://notes.vsekar.com",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://notes.vsekar.com",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'â€™':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/notes.vsekar.com\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-5N9RQH0WPK"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5N9RQH0WPK",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://notes.vsekar.com/js/full-text-search.51f0b1753e9b30839d053f8a98cc20d1.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://notes.vsekar.com/>ðŸª´ Vik's Notes</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Basic design considerations in a superheterodyne radio receiver</h1><p class=meta>Last updated
Feb 10, 2024</p><ul class=tags><li><a href=https://notes.vsekar.com/tags/systems/>Systems</a></li></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><ol><li><a href=#superheterodyne-architecture>Superheterodyne Architecture</a></li><li><a href=#a-quick-story>A Quick Story</a></li><li><a href=#antenna-tuning>Antenna Tuning</a></li><li><a href=#front-end-filtering>Front End Filtering</a></li><li><a href=#rf-switches>RF Switches</a></li></ol></li></ol></nav></details></aside><p>Last week, I asked readers on Substack chat about what topics I should write about. There seemed to be considerable interest in transceiver architecture and design. But transceiver architecture is a vast topic and hardly possible to cover in any detail in a single newsletter edition. Instead, I will write it as an ongoing series that I will keep adding to. This way, each newsletter will still take only 5-10 minutes to read.</p><p>In this article, you will learn:</p><ol><li>Block Diagram of Superheterodyne Architecture</li><li>A brief, but sad story about it</li><li>Antenna Tuning</li><li>Front End Filtering</li><li>RF Switching</li></ol><a href=#superheterodyne-architecture><h3 id=superheterodyne-architecture><span class=hanchor arialabel=Anchor># </span>Superheterodyne Architecture</h3></a><p>Fig ? shows a simplistic block diagram of a superheterodyne (superhet) receiver and the function of each block.</p><ul><li>Band select filter: Filters received antenna signal for a frequency band of interest</li><li>Low-noise amplifier: Increases the received signal level while adding minimal noise</li><li>Image reject filter: Rejects &ldquo;image&rdquo; frequencies that can corrupt the signal during the mixing stage that will follow (more on this later)</li><li>Mixer: Uses a local oscillator (LO) to convert a high frequency signal to an intermediate frequency (IF)</li><li>Channel select filter: Selects the particular channel within the IF range</li><li>IF amplifier: The communication channel of interest is amplified for digital conversion.</li></ul><p>Instead of trying to explain how the system works all at once, our approach will be to go through it a little bit at a time. There are many considerations in the design of such a system such as noise, linearity, choice of frequencies, and implementation choices.</p><p>The actual implementation of the system is much more complex due to the number of communication standards crammed into modern systems. The discussion of superheterodyne receivers here will be more involved and representative of actual implementation compared to textbook discussions of the topic.</p><p>But first&mldr;</p><a href=#a-quick-story><h3 id=a-quick-story><span class=hanchor arialabel=Anchor># </span>A Quick Story</h3></a><p>For the last 100 years, the superheterodyne receiver has been one of the greatest inventions in the history of radio communication.</p><p>Superheterodyne architecture was the brainchild of Edwin Howard Armstrong, one of the most brilliant engineers of our time. While he was a student at Columbia, he discovered that an amplifier&rsquo;s gain can be enhanced by positive feedback. A term he called &ldquo;Regeneration.&rdquo; With sufficient feedback, he could design an RF oscillator, which was the first source of RF energy from a vacuum tube.</p><p>To do this, he used a vacuum tube invented by a scientist named Lee DeForest, whose love for science was only trumped by his love for money. As soon as he learned of Armstrong&rsquo;s regeneration, he took him to court, claiming that he had discovered it two years prior. Litigations are common, yes, but this one continued for the next 20 years, reaching the supreme court. You will see why this is important in a bit.</p><p>Armstrong used the concept of regeneration to build a receiver. The single vacuum tube acted both as a detector and as an amplifier. He used inductive coils to generate feedback and immediately saw the difficulty implementing it like this. He had to precisely adjust the coils orientation to provide just the right feedback at a given frequency, to get the receiver to work.</p><p>Interestingly another scientist named Reginald Fessenden conceived of the term hetero-(different) dyning (mixing). He viewed it as a beat frequency that you observe in audio whose frequency is the difference of the two underlying frequencies. But he incorrectly &ldquo;mixed-up&rdquo; the phenomenon of interference with the multiplicative process of mixing two radio signals.</p><p>Armstrong eventually figured it out and put it to good use. Instead of trying to convert the modulated signal to audio frequencies, he converted it to an intermediate frequency range of about 10kHz. At these frequencies, vacuum tubes had enough gain that they did not need regeneration and its associated tuning headaches.</p><p>The superheterodyne receiver was born. His seminal 1924 paper on this explains everything that we identify as important today as radio engineers - oscillator stability and pulling, interstage interactions, need for filtering and impact of noise. It was way beyond its time to say the least.</p><p>Armstrong sold his superheterodyne patent to communications giant RCA, led by his longtime friend David Sarnoff. However, as radio communications became political, he found his FM broadcast system severely crippled and his unending patent battles against RCA broke his spirit. In 1954, Armstrong stepped out of the window of his New York Apartment. His body was found on a patio a few hours later by a custodian.</p><p>His wife eventually won all his lawsuits against RCA. The lawsuit he fought the hardest for, was his original one on regeneration which is no longer in use. The superheterodyne receiver on the other hand has survived a century and shows no signs of being replaced.</p><p>Armstrong&rsquo;s invention makes modern communication possible, but humanity got it at a great price. With that appreciation, we can start looking at the system itself.</p><a href=#antenna-tuning><h3 id=antenna-tuning><span class=hanchor arialabel=Anchor># </span>Antenna Tuning</h3></a><p>Early radio systems had a single antenna operating at a fixed frequency. A 5G smartphone operates over 50 bands ranging from 500 MHz to 6 GHz. While multiple antennas are required for dramatically different frequencies, it is only practical to reuse antennas for different frequencies by slightly tuning the existing antenna so that it works better. This is called Antenna tuning.</p><p>Antenna tuning involves the use of a bank of capacitors with switches that can be turned on or off with digital control. The digitally tunable capacitor bank is placed at the antenna input to provide a loading capacitance that can alter the performance of the antenna to make it more optimal.</p><p>By tuning the bank of capacitors, they usually perform two functions:</p><ol><li>Antenna aperture tuning: the natural resonance of the antenna is shifted to the required band of operation.</li><li>Antenna impedance tuning: optimizes the signal transmission to the antenna by providing the correct impedance environment between the antenna and the rest of the system.</li></ol><p>Antenna tuners need to be low loss since they are directly connected to the antenna, and can drastically impact signal to noise ratio in the receive path, or overall system efficiency in the transmit path.</p><p>The RF switches also need to have low capacitance so that the capacitance tuning range is only set by the discrete capacitors being switched. Otherwise, the tuning range (represented by C-max / C-min) becomes limited.</p><p>Since the antenna tuners appear after the power amplifier in the signal chain, they need to be able to handle high power while producing minimum distortion through nonlinearities.</p><p>A lot of such antenna tuner switches are implemented with Silicon-on-Insulator technology become of the low-loss and low-capacitance switches that can be implemented on it.</p><a href=#front-end-filtering><h3 id=front-end-filtering><span class=hanchor arialabel=Anchor># </span>Front End Filtering</h3></a><p>Within each GHz frequency band in a communication standard, there are 20-320 MHz channels containing information that needs to be extracted. Ideally, we would like to filter out only the specific channel from the received signal.</p><p>However, this would require a filter that has exceptional rejection to select only a few MHz around a center frequency of several GHz. Higher rejection levels in a filter can only come from increasing the filter order, which increases filter loss.</p><p>This is an unacceptable system penalty to pay especially for components that come between the antenna and LNA/PA. The generally accepted solution is to just filter the entire frequency band and not a specific channel, in order to remove unwanted interference. The bandwidth of the filter relative to its center frequency will be 5-10% which is much more reasonable to implement in practice.</p><p>Interference can be of two kinds:</p><ol><li>Out-of-band interference: These are unwanted signals present in the radio spectrum that do not belong to the communication standard of interest. For example: A GPS signal around 1.5 GHz would be out of band interference to a WLAN signal at 2.4 GHz.</li><li>In-band interference: These are unwanted signals present <em>within</em> the frequency band of interest and usually present due to communication signals in neighboring closely spaced channels.</li></ol><p>Only out-of-band interference can be rejected by filtering in the front end. The in-band interference will remain and it will be rejected after downconversion by the channel select filter.</p><p>Filtering in the front-end of the radio system is usually implemented with acoustic wave filters. They work by converting an electrical signal to an acoustic signal, which then travels across the filter, and is converted into an electrical signal again. These filters are several orders of magnitude smaller than electromagnetic wave filters and are ideal candidates for portable communication devices. They have low loss and exceptional rejection.</p><p>They are of two types:</p><ol><li>Surface Acoustic Wave (SAW) filters: Cheaper to implement and less complex but limited to about 2.5 GHz in center frequency.</li><li>Bulk Acoustic Wave (BAW) filters: More complex 3D structure and costlier but can be implemented to even 10 GHz and beyond. They offer better performance metrics than SAW filters for applications below 2.5 GHz.</li></ol><p>Fig ? shows a comparison of insertion loss between SAW and BAW filters. The typical loss of these filters is 1-2 dB, and loss improvements of even tenths of a dB are significant for such filters. Such filters are used extensively in the RF front-end system to isolate various frequencies of operation and allow coexistence between the various communication standards.</p><a href=#rf-switches><h3 id=rf-switches><span class=hanchor arialabel=Anchor># </span>RF Switches</h3></a><p>There are a various of RF switches used in a practical radio front end, that perform various functions. They are:</p><ol><li>TR Switch: Switches between the transmit and receive paths in a time-domain-duplexed (TDD) system.</li><li>Antenna diversity or cross Switch: Used to switch between antennas so that the best one is selected for operation.</li><li>Band select switch: These are single-pole multi-throw switches that connect the signal to different narrowband amplifiers.</li></ol><p>Depending on the use case and system design, there are a variety of switch designs that either emphasize on low loss, high isolation, high linearity and high power. Regardless of how it is optimized, they are still low loss components in the RF system because they are between the antenna and the amplifiers.</p><p>These switches are designed by stacking large sized silicon-on-insulator MOSFETs in series due to the low loss and high isolation capabilities of SOI technology. The number of transistors used in the stack determines the loss, isolation and power handling capabilities.</p><p>As simple as the circuit topology sounds, the design of these switches are challenging and delicate. Multi-hundred million dollar companies are built on the back of components mentioned in this article alone!</p><p>In a future newsletter, we will continue down the superheterodyne chain!</p><p><a href=https://www.qorvo.com/resources/d/qorvo-a-new-generation-of-5g-filter-technology-baw-white-paper rel=noopener>https://www.qorvo.com/resources/d/qorvo-a-new-generation-of-5g-filter-technology-baw-white-paper</a> (for picture of RF complexity in filtering)</p><p><a href=https://www.qorvo.com/design-hub/blog/baw-vs-saw-rf-filters rel=noopener>https://www.qorvo.com/design-hub/blog/baw-vs-saw-rf-filters</a></p><p><a href=https://transition.fcc.gov/bureaus/oet/tac/tacdocs/meeting71612/FilterDesignTutorial.pdf rel=noopener>Front End Components and Limitations</a></p><p><a href="https://www.infineon.com/dgdl/Infineon-Wireless_Communication_AG_2023-ApplicationBrochure-v01_00-EN.pdf?fileId=5546d46277921c320177af53b9de548a" rel=noopener>https://www.infineon.com/dgdl/Infineon-Wireless_Communication_AG_2023-ApplicationBrochure-v01_00-EN.pdf?fileId=5546d46277921c320177af53b9de548a</a></p><p><a class="internal-link broken">superhet.excalidraw</a></p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://notes.vsekar.com/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>Made by Vikram Sekar using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, Â© 2024</p><ul><li><a href=https://notes.vsekar.com/>Home</a></li><li><a href=https://twitter.com/vikramskr>Twitter</a></li><li><a href=https://github.com/vik-s>Github</a></li></ul></footer></div></div></body></html>