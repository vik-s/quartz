<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="ï»¿ï»¿ï»¿What is the most important point?  To understand the various kinds of gain, when and where to use them."><title>Understanding Amplifier Power Gains</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://notes.vsekar.com//icon.png><link href=https://notes.vsekar.com/styles.706bb6073ba85d26809f9096dae23a6b.min.css rel=stylesheet><link href=https://notes.vsekar.com/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://notes.vsekar.com/js/darkmode.b4dd02a8c7f089554384882ceaa8a4bb.min.js></script>
<script src=https://notes.vsekar.com/js/util.5e39932758f9ecaf45fd54506ed61416.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://notes.vsekar.com/js/popover.6da9b273c092cc16fc1aa904d71a2163.min.js></script>
<script src=https://notes.vsekar.com/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://notes.vsekar.com/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://notes.vsekar.com/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://notes.vsekar.com/",fetchData=Promise.all([fetch("https://notes.vsekar.com/indices/linkIndex.de9ac0b227956be67ff8a9f71368beed.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://notes.vsekar.com/indices/contentIndex.c71f0f50b4499422ad248d5d1f19836e.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://notes.vsekar.com",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://notes.vsekar.com",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'â€™':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/notes.vsekar.com\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-5N9RQH0WPK"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5N9RQH0WPK",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://notes.vsekar.com/js/full-text-search.51f0b1753e9b30839d053f8a98cc20d1.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://notes.vsekar.com/>ðŸª´ Vik's Notes</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Understanding Amplifier Power Gains</h1><p class=meta>Last updated
Jan 27, 2024</p><ul class=tags><li><a href=https://notes.vsekar.com/tags/fundamentals/>Fundamentals</a></li></ul><ol><li>ï»¿ï»¿ï»¿What is the most important point?<ol><li>To understand the various kinds of gain, when and where to use them.</li></ol></li><li>ï»¿ï»¿ï»¿Why is that the most important point? (what can you achieve with it)<ol><li>To fully understand what kind of performance an active device can provide</li></ol></li><li>ï»¿ï»¿ï»¿Why should people care? (what&rsquo;s the benefit)<ol><li>People can choose the correct technology if they understand it well</li><li>Be more precise in understanding vendor datasheets</li></ol></li><li>ï»¿ï»¿ï»¿What is the easiest way to understand the most important point?<ol><li>Provide a visual that someone can pin up in their cubicle that tells you what gain is what</li></ol></li><li>ï»¿ï»¿ï»¿How do you want the reader to feel?<ol><li>Like they now clearly understand amplifier gains</li><li>Happy they got a resource they can use at work</li></ol></li><li>ï»¿ï»¿ï»¿What should the reader do next?<ol><li>Share my visual and post on social media</li><li>see if you can leave them with a small puzzle / homework problem?</li></ol></li></ol><p><em>Section 4.6 from Rohde</em></p><ul><li>50ohm transducer gain is the smallest gain when no matching circuits are used (?)</li><li>Masons gain is the highest gain obtainable from the device by lossless feedback and matching<ul><li>People rarely design for unilateral gain because<ul><li>It is narrow band</li><li>very sensitive to s-parameter accuracy, esp S12, which is very small.</li><li>hard to achieve stability at all frequencies in unilateral amplifier</li><li>it is only a figure of merit quoted by the manufacturer</li></ul></li></ul></li><li>Table 4.5 shows 9 power gains with their equations</li><li>Fig 4.10 shows various power gains vs freq, and what is higher and lower that what</li><li>Otherwise this section of the book provides very little insight into what all this means</li></ul><p><em>Section 8.2.1 from Rohde</em></p><ul><li>If k>1, both ports of the transistor can be conjugately matched to achieved G_ma, the maximum available gain.</li><li>If k&lt;1, carefully extract G_ms, max stable gain and stability across all frequencies</li><li>A common misconception is that if k&lt;1, then the max gain is G_ms. That is not true. The correct answer is infinity since the transistor may oscillate and deliver RF output power with only noise as input.</li><li>A better way to interpret G_ms is to consider loading the transistor resistively till k=1, then match the two-port simultaneously. Then the gain in G_ms.</li><li>This is not the recommended way to design amplifier because adding resistors usually degrades amplifier performance.</li><li>The preferred way is to design the reflection coefficients looking into the source and load to be in the stable regions without adding resistors.</li></ul><p><em>Section 8.2.2 from Rohde</em></p><ul><li>Gma is the gain, when k>1, and input and output are conjugately matched. The S11 and S22 values are zero. Gma_reverse can be used to specify the gain in reverse, and is related to S12.</li><li>To push the gain beyond Gma, you need to unilateralize the 2-port with lossless feedback. The S11, S12, and S22 for this amplifier are zero. This gives Masons Unilateral gain and is the highest achievable <em>stable</em> gain at this frequency.</li><li>The gain formulas usually only give the magnitude. The phase of the S21 will depend on the implementation on matching circuits, and there is no unique answer for phase S21 in the calculation of Gma.</li><li>Fmax is the frequency where Masons gain is unity. Beyond fmax, the transistor is a passive component. It is also called maximum frequency of oscillation (probably because you need the device to still be active to create an oscillator)</li></ul><hr><p>Transducer gain, power gain, available gain and unilateral gain.</p><p>I&rsquo;ve always had trouble quickly remembering what each of these two port amplifier gains mean, what reference planes define input and output power, what the matching conditions are, and what are the assumptions made.</p><p>In this article, I hope to create a reference we can quickly use whenever we need to work with these gains. The purpose is avoid complex derivations and provide only the relevant formulas you can use for calculation. The references at the end will have more comprehensive resources on the subject.</p><p>You will learn the following:</p><ul><li>Definitions of each of the power terms</li><li>Formula to calculate them</li><li>others?</li></ul><p>Let&rsquo;s dive in!</p><p><strong>The two port amplifier network</strong>
The simplest two port amplifier is shown in Fig. 1. It consists of an active device that is capable of amplification and matching networks at the input and output. The purpose of the matching networks is to present a specific impedance at the device terminals for optimal operation. To do this, matching networks are usually implemented with passive elements such as inductors, resistors, capacitors and transformers. In this article, we will consider these matching networks to be lossless.</p><p>The purpose of this network is to amplify any RF signal at the input so that the output signal has a higher voltage swing or absolute power compared to the input signal. The ratio of output power to the input power is called gain. Depending on which point in this diagram you define as input and output, you can have different definitions of gain.
<em>add fig1</em>
Before we get to that, we need to clearly define the terminology we will use.</p><p><strong>Impedance definitions</strong>
Fig 2 shows all the impedance definitions in the two port amplifier. We will address each one in detail.
<em>add fig2</em></p><p><em>Source and Load impedance</em>
The use of an input matching network transforms the reference impedance Z0 of the system into a different impedance we can represent as ZS looking into the output of the matching network towards the signal source. The act of matching the input of an amplifier is choosing the proper value of ZS to meet the design specifications. Usually, ZS affects the gain and noise performance of the amplifier and appropriate trade-offs are usually made. The source reflection coefficient can be written as
<em>put eqn for GammaS</em></p><p>Similar to the source impedance, the output matching network transforms the reference impedance Z0 into an impedance we can represent as ZL, looking into the input terminal of the output matching network towards the load impedance. To match the output of the amplifier, a proper value of ZL needs to be chosen. Depending on the application, i.e., where it is a low noise amplifier, high power amplifier or anything in between, the design of the output matching network can get quite sophisticated to meet the end requirements of the amplifier. The load reflection coefficient can be written as
<em>eqn for GammaL</em></p><p><em>Device Input and Output impedance</em>
The impedance looking into the terminals of the active device is affected by both the s-parameters of the device itself <em>and</em> the matching network down the chain from the device. Specifically:</p><ul><li>Input impedance ZS is affected by the device s-parameters and output matching network and can be calculated by <em>eqn for Gamma_in</em></li><li>Output impedance ZL is affected by the device s-parameters and the input matching network and can be calculated by <em>eqn for Gamma_out</em></li></ul><p>It is interesting that if the active device is &ldquo;unilateral&rdquo; which means there is no transfer of power from output to input, then S12=0. The input and output reflection coefficients reduce to S11 and S22 respectively. This is important for when we define &ldquo;Unilateral Gain&rdquo; of an amplifier later.</p><p><strong>Power Definitions</strong>
Whenever there is an impedance mismatch between a matching network and an active device terminal, some of the RF power is reflected and some of it is transmitted. Only under specific matching conditions where the source/load impedance is a complex conjugate of the device impedance, will there be maximum power transfer. This is called conjugate matching.</p><p>When amplifiers have an arbitrary source/load impedance, there will be different power levels at different points in the two port amplifier network. Fig 3 shows all the power definitions in a two port amplifier. Understanding these will be key to defining various amplifier gains in the next section.</p><ul><li>Power available from the source (Pavs): Maximum power that can be delivered to the active device from the source. This is only possible when the source impedance ZS is chosen to be the complex conjugate of input impedance Zin looking into the device.</li><li>Power delivered to the input (Pin): Power delivered to the input terminals of the active device. This does not make any assumptions about the input matching network. For any arbitrary ZS, there will be some reflected power back into the source, and the rest of the power delivered to the device is Pin. Pin is always less than or equal (under conjugate match) to Pavs.</li><li>Power available from the network (Pavn): Maximum power available from the output device terminal after amplification that can be delivered to the load. If the output impedance ZL is a complex conjugate of Zout, the impedance at the output of the device terminal, then this is the maximum power that can actually be delivered to the load.</li><li>Power delivered to the load (PL): Depending on the choice of output matching network and ZL, some power may be reflected back into the output device terminal, and the rest of it is transmitted to the load. This is the actual power delivered to the load circuit. PL is always less than or equal (under conjugate match) to Pavn.</li></ul><p><em>add fig3</em></p><p>**Transducer power gain</p><p>Transducer power gain is defined as</p><blockquote><p>The ratio of the power delivered to the load to the power available from the source.</p></blockquote><p>This is the most general and highly used definition of power gain in a two port amplifier. It makes no assumptions on the source and load impedances, or the behavior of the active device.</p><p>Fig 4 shows the reference planes and the formula to calculate the transducer power gain in a two port amplifier.</p><p><em>add fig4</em></p><p>Even though there is no explicit dependence of the gain on S12, remember that it is included in the calculation of Gamma_in from equation (3). The makes it a general definition of gain under all circumstances.</p><p>In the absence of matching networks, ZS = ZL = 50 ohms, or GammaS = GammaL = 0 (from equations (1) and (2)). In this case, the transducer power gain reduces to</p><p><em>add eqn</em></p><p>This is the lowest possible gain you can obtain from the amplifier. Addition of any matching circuits will increase the power delivered to the active device and the load, hence increasing the gain.</p><p>Another useful approximation is to assume that S12=0. This is a reasonable assumption for many transistor devices whose reverse transmission is negligibly low. Under this condition, Gamma_in = S11 (from equation 3), which gives us a way to calculate the transducer power gain of an amplifier from only the s-parameters of the transistor and source/load reflection coefficients of the matching networks.</p><p>Additionally, you can rather conveniently view the overall gain as a cascade of the gains of the source match, intrinsic device and load match.</p><p><em>add eqn</em></p><p>To find the maximum unilateral transducer gain (GTUmax), the input and output needs to be conjugately matched, and by setting Gamma_in = S11* and Gamma_2 = S22*, we get</p><p><em>add eqn</em></p><p><strong>Power Gain</strong>
Power gain is defined as</p><blockquote><p>The ratio of the power delivered to the load to the power delivered to the input of the active device.</p></blockquote><p>The gain definition will vary depending on the load matching network, but is independent of the source matching network because any reflections back into the source are already accounted for. In reality, the behavior of the active device depends on the source impedance presented to it, but we won&rsquo;t worry about it for now.</p><p>Fig 5 shows the reference planes used for calculation of power gain and the formula to do so.</p><p><em>add fig and eqn</em></p><p>Notice that this expression does not contain Gamma_S, making it independent of the source matching network. Power gain tells you how much power will be present at the load in the presence of a matching network when you provide a given power across the input terminals of the device.</p><p>If you need to calculate power gain with the source conjugately matched to the input, then it is as simple as setting Gamma_in = S11*.</p><p><strong>Available Gain</strong>
Available gain is defined as</p><blockquote><p>The ratio between power available from network to the power available from the source.</p></blockquote><p>Fig 6 shows the reference planes used in the calculation of available gain and the formula used to do so.</p><p>In contrast to power gain which was independent of the source matching network, available gain is independent of the load matching network, as shown in equation (9). Available gain tells you the maximum output power you can get from the device, when you provide all the power from the source to it.</p><p>If you need to calculate available gain with the load conjugately matched to the output, then set Gamma_out = S22*.</p><p><strong>Putting it together</strong></p><p>All these gain definitions are tools to help you estimate if a given active device is suitable to meet the required gain specification from the amplifier and to gauge how hard it is to get that performance.</p><p>The first metric to look at while choosing an active device is maximum unilateral transducer gain (GTU,max) which makes the simplistic assumption that S12=0 and conjugate matching at both input and output. It gives you a sense of the power gain that is readily available from the device.</p><p>Designers rarely design for unilateral gain because the resulting amplifier is usually narrow band, sensitive to transistor s-parameters (especially S12) and it is hard to achieve stable performance at all frequencies.</p><p>By no means is GTU,max the absolute maximum gain possible from the device. With the proper kind of feedback, gain can even be infinite. When a device is pushed into oscillation, it produces output power with only noise power as its input. This results in gain values can exceed GTU,max.</p><p>Power gain can help estimate the designed gain while isolating only the load network, while being independent of the source network. Available gain allows you to do the same with the source network, while isolating the load network. They serve as intermediate gain estimates during the design process.</p><p>Transducer gain is the only gain that ultimately matters and represents the actual performance that is available from the amplifier in the presence of the actual, optimized source and load networks. This is the value that should ultimately be reported on data sheets.</p><p><strong>Key Takeaways</strong></p><p>There are several definitions of gain for a two port amplifier and understanding them is essential to RF amplifier design.</p><ul><li>Transducer gain: This is the most realistic gain that can be reported for an amplifier that represents its actual performance in an RF system.</li><li>Maximum unilateral transducer gain: This is useful to understand what kind of gain is readily available from a device that has little feedback from output to input, and is conjugately matched.</li><li>Power and Available gain: These are useful to understand the amplifier gain by isolating the source and load networks, and are good for intermediate estimates during the amplifier design process.</li></ul><p><em>Can you make a chart summarizing all the gains? Use that as key takeaway</em></p><p><a class="internal-link broken">UnderstandingAmplifierGains.excalidraw</a></p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://notes.vsekar.com/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>Made by Vikram Sekar using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, Â© 2024</p><ul><li><a href=https://notes.vsekar.com/>Home</a></li><li><a href=https://twitter.com/vikramskr>Twitter</a></li><li><a href=https://github.com/vik-s>Github</a></li></ul></footer></div></div></body></html>