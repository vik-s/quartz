<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Envelope Tracking is a rather recent technology that has made our phones run cooler and batteries last longer. In this article, you will learn the basics of Envelope Tracking: how it works and what the challenges are."><title>What is Envelope Tracking in a Power Amplifier?</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://notes.vsekar.com//icon.png><link href=https://notes.vsekar.com/styles.706bb6073ba85d26809f9096dae23a6b.min.css rel=stylesheet><link href=https://notes.vsekar.com/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://notes.vsekar.com/js/darkmode.b4dd02a8c7f089554384882ceaa8a4bb.min.js></script>
<script src=https://notes.vsekar.com/js/util.5e39932758f9ecaf45fd54506ed61416.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://notes.vsekar.com/js/popover.6da9b273c092cc16fc1aa904d71a2163.min.js></script>
<script src=https://notes.vsekar.com/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://notes.vsekar.com/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://notes.vsekar.com/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=!1,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://notes.vsekar.com/",fetchData=Promise.all([fetch("https://notes.vsekar.com/indices/linkIndex.ebf1779d794799e43abf9be371b00720.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://notes.vsekar.com/indices/contentIndex.7a8b5ef9ada8950b0d73374d34e21fd6.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://notes.vsekar.com",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://notes.vsekar.com",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}var i=document.getElementsByClassName("mermaid");i.length>0&&import("https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs").then(e=>{e.default.init()})},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'â€™':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/notes.vsekar.com\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-5N9RQH0WPK"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5N9RQH0WPK",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://notes.vsekar.com/js/full-text-search.51f0b1753e9b30839d053f8a98cc20d1.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://notes.vsekar.com/>ðŸª´ Vik's Notes</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>What is Envelope Tracking in a Power Amplifier?</h1><p class=meta>Last updated
Jan 27, 2024</p><ul class=tags><li><a href=https://notes.vsekar.com/tags/circuit/>Circuit</a></li></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#references>References</a></li></ol></nav></details></aside><p>Envelope Tracking is a rather recent technology that has made our phones run cooler and batteries last longer. In this article, you will learn the basics of Envelope Tracking: how it works and what the challenges are.</p><p>Let&rsquo;s say we have a modulated RF signal going into a power amplifier (PA). Modulation is the process of encoding information into a high frequency signal, and is usually done by changing the amplitude or phase (or both) of the high frequency signal according to the information being encoded. The PA has a supply voltage that provides the DC power needed for amplification. The amplified signal is sent out to the antenna to be broadcast. Think of the power amplifier as a karaoke machine with a DC power adapter.</p><p>A key performance metric of a PA is it&rsquo;s efficiency. It is a measure of how much output power is obtained relative to the DC power provided to it. The more the better. Nature usually takes its energy tax, so the output is always lesser than input. Efficiency is always lesser than 100%.</p><p>Consider a signal which is only phase modulated. Such signals were common in early communication systems such as GSM. Let&rsquo;s say such a signal input to the PA is within the limits of its power supply voltage. Now imagine you throw a tablecloth over this waveform. The shape of the tablecloth on the top is the envelope of the signal. In this case, the envelope is flat.</p><p>The advantage of the envelope not touching the power supply voltage is that the amplification will be linear. If the envelope touches the power supply voltage limit, the output waveform will appear squished at the top and bottom, and the result will be nonlinear. The person you are speaking to on the phone may start to sound like the Terminator.</p><p>The disadvantage of the extra room between the envelope and power supply voltage is that the excess is wasted power not being used for amplification and being dissipated as heat.</p><p>A simple solution is to increase the level of the input signal so that there is minimum overhead between the envelope and power supply, but still not distorting the output. Now you have minimum energy dissipated as heat, and efficiency is better. This is exactly what was done in early communication systems. The PA is said to running in compression, that is, a signal level that gives maximum efficiency.</p><p>Unfortunately, it is not possible to guarantee that the input signal is always at the optimum level. Sometimes it drops, and in that case, the PA is said to be operating in a power &ldquo;back-off&rdquo; mode. Now we again have wasted energy from excess overhead, and the PA efficiency drops.</p><p>But wait, there&rsquo;s more. Modern communication standards like 4G LTE target high data rates and this requires modulation of both amplitude and phase. Depending on the modulation scheme and end-application, the signal can have large peaks relative to the average level. The metric that describes this property of a modulated signal is Peak to Average Power Ratio (PAPR). It is the power of the signal peaks relative to the average power level, and can be as high as 10 times.</p><p>Now our imaginary tablecloth over such a signal is no longer flat. The envelope of this signal is continuously varying.</p><p>In this situation, increasing signal level to accommodate the peaks implies that the overhead will be too large for the rest of the signal. You cannot risk distorting the signal by clipping the peaks to minimize wasted power.</p><p>Enter Envelope Tracking (ET).</p><p>We can no longer have a constant power supply voltage to the PA. The only way to minimize wasted energy is to continuously change the supply level to just about accommodate the envelope signal. The power supply is now &ldquo;tracking the envelope&rdquo; of the input signal.</p><p>Here&rsquo;s an analogy to ET. The best way to avoid wasted water while brushing your teeth is to shut off the faucet and turn it on only when needed. The water is our energy and the faucet is the power supply to the PA. Turn on as much of the supply you need, when you need it - and you will keep your efficiency high.</p><p>An important feature of ET is that even when the input signal level drops, the efficiency does not degrade like in the case of a fixed power supply PA because the supply voltage will track the lower envelope level ensuring minimal wasted energy. Generally an efficiency of 70-80% can be achieved with ET and it remains relatively constant in power back-off.</p><p>To continuously change the PA power supply, we need an &ldquo;Envelope Amplifier&rdquo; that takes the digital envelope information directly from the baseband signal processor (the thing thats doing the modulation to begin with) and provides a voltage level that tracks the envelope. Designing an envelope amplifier is a challenge all on its own. You have to guarantee that the voltage it provides can actually keep up with how quickly the envelope varies. If the envelope signal is rapidly changing, it is said to have a high signal bandwidth and the envelope amplifier design gets correspondingly harder.</p><p>It is also absolutely critical that the envelope and the modulated input signal are perfectly synchronized. If they are not, then the envelope amplifier will end up providing too little voltage needed to cleanly amplify the input signal, or too much voltage degrading the efficiency. The linearity and efficiency of the PA are both affected.</p><p>To ensure time alignment, we can take a digitized sample of the amplified output signal envelope and compare it with the required input signal envelope. If there are differences, then it is possible to digitally alter the input signal envelope so that the output signal matches the desired input signal envelopes. This is called adaptive digital predistortion (DPD). Usually, this adds cost and complexity to the PA system, but as digital technology scales down, the energy overhead and overall cost of DPD is constantly dropping.</p><p>ET PAs have become a reality in cell phones ever since the envelope amplifier could be implemented in CMOS technology. Also, most cell phones today use a simplified form of ET called Average Power Tracking (APT) that tracks the average power instead of the envelope thus easing the requirements of the envelope amplifier. The power supply of your cell phone PA changes even on a second-to-second basis using a DC-DC converter chip to make sure your battery life is prolonged as much as possible.</p><p>Do give ET a fleeting thought next time you make a phone call!</p><a href=#references><h2 id=references><span class=hanchor arialabel=Anchor># </span>References</h2></a><p><a href=https://www.electronics-notes.com/articles/radio/rf-envelope-tracking/what-is-envelope-tracking-basics-primer.php rel=noopener>https://www.electronics-notes.com/articles/radio/rf-envelope-tracking/what-is-envelope-tracking-basics-primer.php</a></p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://notes.vsekar.com/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>Made by Vikram Sekar using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, Â© 2024</p><ul><li><a href=https://notes.vsekar.com/>Home</a></li><li><a href=https://twitter.com/vikramskr>Twitter</a></li><li><a href=https://github.com/vik-s>Github</a></li></ul></footer></div></div></body></html>